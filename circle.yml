machine:

  services:
    - docker

  python:
    version: 3.5.2


checkout:
  post:
    - docker info
    - chmod +x build.sh
    - chmod +x circle.sh


dependencies:
  override:
    - pip install flake8
    - flake8
    - ./build.sh
    - ./circle.sh --info


test:
  override:
    - ./circle.sh pulsar-uv


deployment:
  registry:
    branch: master
    commands:
      - docker login -p $DOCKER_PASS -e $DOCKER_EMAIL -u $DOCKER_USER
      - docker push quantmind/pulsar-bench
